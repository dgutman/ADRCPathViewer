<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset = UTF-8">
    <title>DSA Viewer</title>
  
    
        <script src="js/mnv/jquery-1.9.0.min.js"></script>
        <script src="js/mnv/openseadragon.min.js"></script>
        <script src="js/mnv/openseadragon-imaginghelper.min.js"></script>
        <script src="js/mnv/openseadragon-viewerinputhook.min.js"></script>
        <script src="js/mnv/knockout-3.1.0.js"></script>
        <script src="js/mnv/bootstrap.min.js"></script>
        

        <link rel="stylesheet" media="screen" href="css/mnv/bootstrap.min.css"/>
        <link rel="stylesheet" media="screen" href="css/mnv/style.css"/>

        <script src="bower_components/d3/d3.js"></script>

        <!-- Using CDN's until I finalize build ocess -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.2/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.2/js/select2.min.js"></script>

   <!--  <script src="bower_components/jquery-ui/jquery-ui.js"></script>
    <script src="bower_components/openseadragon/built-openseadragon/openseadragon/openseadragon.min.js"></script>
    --> <!-- endbower
    <link rel="stylesheet" type="text/css" media="screen" href="css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="css/jquery-ui.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="css/jquery-ui.theme.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="css/jquery-ui.structure.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="css/jquery.dataTables.css" />
    <link ref="stylesheet" type="text/css" media="screen" href="css/pancan.css" />

    <link rel="stylesheet" type="text/css" media="screen" href="css/mnviewer_style.css"/> -->
       
    <!--   <link rel="stylesheet" type="text/css" media="screen" href="css/mnviewer_style.css"> -->
  <!--   <script src="http://code.jquery.com/ui/1.11.1/jquery-ui.min.js" type="text/javascript"></script> -->
    <!-- really should move to bootstrap3 -->

<!--     <script src="js/jquery.dataTables.min.js" type="text/javascript"></script> -->
  <!--   <script src="js/openseadragon_setup_functions.js"></script>
 -->
<!--     <script src="js/openseadragon-imaginghelper.min.js"></script>
    <script src="js/openseadragon-viewerinputhook.min.js"></script>
    <script src="js/knockout-3.1.0.js"></script>
    <script type="text/javascript" src="js/openseadragon-svg-overlay.js"></script> -->
</head>
<body>


<nav class="navbar navbar-default" role="navigation">
            <div class="navbar-header">
                <div class="navbar-brand">DSA PanCan</div>
            </div>
            <div>
                <ul class="nav navbar-nav">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="grid.html" id="nav_select">Select</a></li>
                    <li class="active"><a href="viewer.html">Viewer</a></li>

                </ul>
            </div>
        </nav>

        <!-- First row: Dataset & slide selection, classifier selection and info -->
        <div class="container">
            <div class="row">
                <div id="SelPatient" class="col-sm-4 col-md-4 col-lg-4">
                    <div id="SelDataset">
                        <h5>Select Dataset: </h5>
                        <select id="dataset_sel" style="width: 75%"></select>
                    </div>
                    
                    <h5>Select Slide: </h5>
                    <select id="slide_sel" style="width: 75%"></select>
                    
                    <p>
                        <br/>
                        Available Slides: <span id="count_patient"></span>
                    </p>
                </div>


                <div class="col-sm-4 col-md-4 col-lg-4"  >
                    <div data-bind="with: statusObj">
                        <span>Mouse Pos: </span>
                        <span>(</span>
                        <span data-bind="text:(haveImage() &&  haveMouse()) ? mouseImgX().toFixed(0) : '-'"></span>
                        <span>, </span>
                        <span data-bind="text:(haveImage() &&  haveMouse()) ? mouseImgY().toFixed(0) : '-'"></span>
                        <span>)</span>
                    </div>
                    <br/>
                    <div>
                        <h5>Pan to location: </h5>
                        <p>X:
                        <span><input type="text" id="x_pos" 
                            name="x_position" placeholder="0.0">
                        </p>

                        <p>Y:
                        <input type="text" id="y_pos" 
                            name="y_position" placeholder="0.0">
                        <input type="button" id="btn_Go" value="Go" class="btn btn-default btn-sm" onClick="go()">
                        </p>
                    </div>
                </div>


                <div class="col-sm-4 col-md-4 col-lg-4" id="legend">
                     <input type="button" id="btn_1" value="Show Segmentation" class="btn btn-default btn-sm" onClick="viewSegmentation()">
			  <div data-bind="with: slideInfoObj">



				<span>Slide Size:</span>
	                        <span>(</span>
        	                <span data-bind="text:slideWidth()"></span>
                	        <span>, </span>
                        	<span data-bind="text:slideHeight()"></span>
	                        <span>)</span>
				<br>Tumor Type:
				<span data-bind="text:TumorType()"></span>
				<br>Slide Name:<span data-bind="text:slidename()"></span>
				<br>Has Annotations:<span data-bind="text:HasAnnotations()"></span>
				<br>Segmented Objects:<span data-bind="text:SegObjects()"></span>
		                     <span id="object_count"></span>
			</div>
                </div>
                                    
            </div>  <!-- First row -->

            <div class="row top-buffer"></div>   <!-- A little space between -->            
            
            <div class="row-fluid"> <!-- Slide viewer -->
               
                <div class="btn-group"> <!-- buttons for the top of the slide viewer-->
                    <input type="button" id="show_filter" value="Apply Filters" class="btn btn-small btn-inverse" disabled>
                    <input type="button" id="report_bad_image_btn" value="Report Bad Image" class="btn btn-small btn-inverse" disabled>
                    <input type="button" id="show_debug" value="Show Debug Info" class="btn btn-small btn-inverse">
                    <input type="button" id="show_annotator" value="Draw Tools" class="btn btn-small btn-inverse" disabled>
                    <input type="button" id="show_metadata" value="Query Metadata" class="btn btn-small btn-inverse" disabled>
                    <input type="button" id="show_pdf" value="Path Report" class="btn btn-small btn-inverse" disabled>
                </div>
               


                <div id="imageViewerContainer" class="relative-fill-container">
                    <div id="image_zoomer" class="openseadragon-view"></div>
                    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="overlaySvg" data-bind="withL svgOverlayVM" 
                         visibility="hidden" pointer-events="none" zoomAndPan="disable">
                        <defs></defs>
                        <!-- TODO - Can't get the binding to work with the transform function. 
                             Currently applying the transform manually in onImageViewChanged
                        -->
                        <g id="annoGrp" class="svgAnnoGrp" data-bind="attr: {transform: annoGrpTransformFunc}">
                            <g id="anno"></g>
                        </g>
                    </svg>
                </div>
            </div>      <!-- Third row (Slide viewer) -->

        </div>  <!-- Container -->      

        <script type="text/javascript" src="js/PanCanviewer_Lite.js"></script>


</body>
   
